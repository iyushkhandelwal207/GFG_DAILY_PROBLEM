import java.util.*;

class Solution {
    public int minSoldiers(int[] arr, int k) {
        int n = arr.length;
        int requiredLucky = (n + 1) / 2; // ceil(n/2)
        
        int luckyCount = 0;
        List<Integer> extras = new ArrayList<>();
        
        // Step 1: Count already lucky troops and store extras for others
        for (int soldiers : arr) {
            if (soldiers % k == 0) {
                luckyCount++;
            } else {
                extras.add(k - (soldiers % k));
            }
        }
        
        // Step 2: If already enough lucky troops
        if (luckyCount >= requiredLucky) {
            return 0;
        }
        
        // Step 3: Sort extras (minimum addition first)
        Collections.sort(extras);
        
        // Step 4: Pick smallest needed extras
        int troopsNeeded = requiredLucky - luckyCount;
        int soldiersAdded = 0;
        
        for (int i = 0; i < troopsNeeded; i++) {
            soldiersAdded += extras.get(i);
        }
        
        return soldiersAdded;
    }
}
